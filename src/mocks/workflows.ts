// src/mocks/workflows.ts
import type { Workflow } from '@/types'

export const seedWorkflows: Workflow[] = [
  // Workflow 1: Simple linear — schedule_trigger → http_request → telegram_send_message
  {
    id: 'wf-001',
    userId: 'user-001',
    name: 'Daily Weather Report',
    description: 'Fetch weather data and send via Telegram every morning',
    isActive: true,
    nodes: [
      {
        id: 'n-001',
        type: 'schedule_trigger',
        label: 'Every day at 9am',
        category: 'trigger',
        status: 'configured',
        config: { preset: 'daily', cron: '0 9 * * *', timezone: 'Asia/Jakarta' },
        position: { x: 0, y: 0 },
      },
      {
        id: 'n-002',
        type: 'http_request',
        label: 'Fetch Weather API',
        category: 'action',
        status: 'tested',
        config: { url: 'https://api.weather.example.com/current?city=Jakarta', method: 'GET', headers: [], queryParams: [], bodyType: 'json', authType: 'none', timeout: 5000 },
        position: { x: 0, y: 0 },
      },
      {
        id: 'n-003',
        type: 'telegram_send_message',
        label: 'Send Weather Report',
        category: 'integration',
        status: 'configured',
        credentialId: 'cred-001',
        config: {},
        position: { x: 0, y: 0 },
      },
    ],
    edges: [
      { id: 'e-001', source: 'n-001', target: 'n-002' },
      { id: 'e-002', source: 'n-002', target: 'n-003' },
    ],
    settings: {},
    lastRunAt: '2026-02-18T09:00:00.000Z',
    createdAt: '2026-01-15T10:00:00.000Z',
    updatedAt: '2026-02-18T09:00:00.000Z',
  },

  // Workflow 2: IF branch — webhook → if → [true: notify sales] | [false: nurture] (independent branches)
  {
    id: 'wf-002',
    userId: 'user-001',
    name: 'Lead Qualifier',
    description: 'Qualify incoming leads and route to appropriate team',
    isActive: true,
    nodes: [
      {
        id: 'n-010',
        type: 'webhook_trigger',
        label: 'New Lead Webhook',
        category: 'trigger',
        status: 'configured',
        config: { path: 'lead-qualifier-abc123', method: 'POST', responseMode: 'immediately' },
        position: { x: 0, y: 0 },
      },
      {
        id: 'n-011',
        type: 'if_condition',
        label: 'Check Lead Score',
        category: 'flow_control',
        status: 'configured',
        config: {
          combinator: 'AND',
          conditions: [{ id: 'c-001', field: '{{ $trigger.json.score }}', operation: 'greater_than', value: '70' }],
        },
        position: { x: 0, y: 0 },
      },
      {
        id: 'n-012',
        type: 'http_request',
        label: 'Notify Sales Team',
        category: 'action',
        status: 'configured',
        parentId: 'n-011',
        branchType: 'true',
        config: { url: 'https://hooks.example.com/sales', method: 'POST', headers: [], queryParams: [], bodyType: 'json', body: '{"lead": "{{ $trigger.json }}"}', authType: 'none', timeout: 5000 },
        position: { x: 0, y: 0 },
      },
      {
        id: 'n-013',
        type: 'http_request',
        label: 'Add to Nurture Campaign',
        category: 'action',
        status: 'configured',
        parentId: 'n-011',
        branchType: 'false',
        config: { url: 'https://hooks.example.com/nurture', method: 'POST', headers: [], queryParams: [], bodyType: 'json', body: '{"lead": "{{ $trigger.json }}"}', authType: 'none', timeout: 5000 },
        position: { x: 0, y: 0 },
      },
    ],
    edges: [
      { id: 'e-010', source: 'n-010', target: 'n-011' },
      { id: 'e-011', source: 'n-011', target: 'n-012', sourceHandle: 'true', type: 'branch', label: 'True' },
      { id: 'e-012', source: 'n-011', target: 'n-013', sourceHandle: 'false', type: 'branch', label: 'False' },
    ],
    settings: {},
    lastRunAt: '2026-02-17T14:30:00.000Z',
    createdAt: '2026-01-20T11:00:00.000Z',
    updatedAt: '2026-02-17T14:30:00.000Z',
  },

  // Workflow 3: Loop — manual_trigger → loop → [http_request body]
  {
    id: 'wf-003',
    userId: 'user-001',
    name: 'Bulk Email Sender',
    description: 'Send personalized emails to each row in a Google Sheet',
    isActive: false,
    nodes: [
      {
        id: 'n-020',
        type: 'manual_trigger',
        label: 'Manual Trigger',
        category: 'trigger',
        status: 'configured',
        config: { sampleData: '{"rows": [{"email": "a@example.com", "name": "Alice"}]}' },
        position: { x: 0, y: 0 },
      },
      {
        id: 'n-021',
        type: 'loop',
        label: 'For Each Row',
        category: 'flow_control',
        status: 'configured',
        config: { mode: 'forEach', source: '{{ $trigger.json.rows }}', batchSize: 1, onItemError: 'skipItem' },
        position: { x: 0, y: 0 },
      },
      {
        id: 'n-022',
        type: 'http_request',
        label: 'Send Email',
        category: 'action',
        status: 'configured',
        parentId: 'n-021',
        branchType: 'body',
        config: { url: 'https://api.email.example.com/send', method: 'POST', headers: [], queryParams: [], bodyType: 'json', body: '{"to": "{{ $item.email }}", "name": "{{ $item.name }}"}', authType: 'bearer', authConfig: { token: 'my-email-api-key' }, timeout: 10000 },
        position: { x: 0, y: 0 },
      },
    ],
    edges: [
      { id: 'e-020', source: 'n-020', target: 'n-021' },
      { id: 'e-021', source: 'n-021', target: 'n-022', sourceHandle: 'loopBody', type: 'loop', label: 'Loop' },
    ],
    settings: {},
    lastRunAt: '2026-02-10T10:00:00.000Z',
    createdAt: '2026-02-01T09:00:00.000Z',
    updatedAt: '2026-02-10T10:00:00.000Z',
  },
]
